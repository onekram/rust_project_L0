# Задача L0

## Функционал приложения
  - Добавить заказ в базу данных: __POST__ запрос по адресу /add_order с данными о заказе в формате JSON
  - Получить заказ из базы данных: __GET__ запрос по адресу /get_order/uid, где uid - идентификатор заказа

## Запуск приложения, CLI
```
cargo run -- -l --server-host <SERVER_HOST> --server-port <SERVER_PORT> --db-user <DB_USER> --db-password <DB_PASSWORD> --db-host <DB_HOST> --db-port <DB_PORT> --db-name <DB_NAME>
```
#### Информация об аргументах командной строки
```
cargo run -- --help
```

## Хранение в базе данных
- Модель логически разбивается на раздельные сущности, поэтому информация о заказе храниться в 4-х таблицах
- __payment__ хранит информацию об оплате
- __delivery__ хранит информацию о доставке
- __item__ хранит информацию о товаре (может быть несколько для одного заказа)
- __order_info__ хранит информацию о заказе (ссылается на ячейки таблицы __payment__, __delivery__)
- __order_item__ хранит информацию о связи товара и заказа (ссылкается на ячейки таблица __order__, __item__)


## Кэширование
- В качестве кэша выступает __HashMap__, состояние кэша (как и клиент базы данных) храниться как Read-Write lock структура
- Успешное добавление заказа в базу данных приводит к добавлению заказа в кэш
- При получении заказа сначала будет проведена проверка на наличие заказа в кэше, в случае отсутствия, будет выполнен запрос к базе данных

## Тестирование
- В репозитории представлен скрипт __app_test.sh__ файл, который тестирует добавление и получение заказов
